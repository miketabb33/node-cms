<h1>Edit Post</h1>

<form action="/admin/posts/edit/{{post._id}}?_method=PUT" method="post" enctype="multipart/form-data">
  <div class="form-group">
    <label for="title">Title</label>
    <input name="title" type="text" class="form-control" id="title" placeholder="Enter Title" value="{{post.title}}" />
  </div>

  <div class="form-group">
    <label for="body">Body</label>
    <textarea name="body" cols="30" rows="10" class="form-control" id="body" placeholder="Enter Body">{{post.body}}</textarea>
  </div>

  <div class="form-check">
    <label for="allowComments" class="form-check-label">
      <input 
        name="allowComments" 
        type="checkbox" 
        class="form-check-input" 
        id="allowComments" 
        {{#if post.allowComments}} checked {{/if}}
      />
      Allow Comments
    </label>
  </div>

  <div class="form-group">
    <label for="title">Status</label>
    <select name="status" id="status" class="form-control">
      <option 
        value="public"
        {{#ifEquals post.status "public"}} selected {{/ifEquals}}
      >
        Public
      </option>
      <option 
        value="private"
        {{#ifEquals post.status "private"}} selected {{/ifEquals}}
      >
        Private
      </option>
      <option 
        value="draft"
        {{#ifEquals post.status "draft"}} selected {{/ifEquals}}
      >
        Draft
      </option>
    </select>
  </div>
  <div class="form-group">
    <label for="title">Category</label>
    <select name="category" id="category" class="form-control">
      {{#each categories}}
        <option 
          value={{_id}}
        >
          {{name}}
        </option>
      {{/each}}
    </select>
  </div>

  <div class="form-group">
    <label for="file">File Upload</label>
    <input name="file" type="file" class="form-control" />
  </div>

  <button type="submit" class="btn btn-primary">Update Post</button>
</form>